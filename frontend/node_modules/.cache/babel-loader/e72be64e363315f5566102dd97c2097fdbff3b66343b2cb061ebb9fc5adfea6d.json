{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\20228\\\\OneDrive\\\\Desktop\\\\New\\\\fishing-spots-app\\\\frontend\\\\src\\\\pages\\\\SpotSharePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\nimport { collection, addDoc } from \"firebase/firestore\";\nimport { db, auth } from '../firebase';\nimport './SpotSharePage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '100%',\n  height: '250px'\n};\nconst defaultCenter = {\n  lat: 3.139,\n  lng: 101.6869\n};\nconst SpotSharePage = () => {\n  _s();\n  const [species, setSpecies] = useState('');\n  const [bait, setBait] = useState('');\n  const [technique, setTechnique] = useState('');\n  const [marker, setMarker] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    googleMapsApiKey: \"AIzaSyAgtx6yT4yO1KxGO1qRIDAbi2saRZYjwJ8\"\n  });\n  const onMapClick = useCallback(event => {\n    setMarker({\n      lat: event.latLng.lat(),\n      lng: event.latLng.lng()\n    });\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!auth.currentUser) {\n      alert(\"You must be logged in to share a spot.\");\n      return;\n    }\n    if (!marker) {\n      alert(\"Please select a location on the map.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      await addDoc(collection(db, \"fishingSpots\"), {\n        species,\n        bait,\n        technique,\n        location: marker,\n        approved: false,\n        createdBy: auth.currentUser.uid,\n        createdAt: new Date()\n      });\n      setMessage('Spot shared! Awaiting admin approval.');\n      setSpecies('');\n      setBait('');\n      setTechnique('');\n      setMarker(null);\n    } catch (error) {\n      setMessage('Error sharing spot: ' + error.message);\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"share-spot-outer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Share a Fishing Spot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-section\",\n      children: [isLoaded && /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: marker || defaultCenter,\n        zoom: 12,\n        onClick: onMapClick,\n        children: marker && /*#__PURE__*/_jsxDEV(Marker, {\n          position: marker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-location\",\n        children: marker ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\"\\uD83D\\uDCCD Selected Location: \", marker.lat.toFixed(5), \", \", marker.lng.toFixed(5)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"Click on the map to select a location\"\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"share-spot-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-fields\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"SPECIES :\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"LIST SPECIES HERE\",\n            value: species,\n            onChange: e => setSpecies(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"BAIT/LURE :\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"LIST BAIT/LURE HERE\",\n            value: bait,\n            onChange: e => setBait(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"TECHNIQUE :\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"e.g., casting, bottom, fly\",\n            value: technique,\n            onChange: e => setTechnique(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"share-btn\",\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? \"Sharing...\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"location\",\n            children: \"\\uD83D\\uDCCD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 39\n          }, this), \" Share Location\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(SpotSharePage, \"5wwjoH5LF1mPBg8MuuMqel8Nu0A=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = SpotSharePage;\nexport default SpotSharePage;\nvar _c;\n$RefreshReg$(_c, \"SpotSharePage\");","map":{"version":3,"names":["React","useState","useCallback","GoogleMap","Marker","useJsApiLoader","collection","addDoc","db","auth","jsxDEV","_jsxDEV","Fragment","_Fragment","containerStyle","width","height","defaultCenter","lat","lng","SpotSharePage","_s","species","setSpecies","bait","setBait","technique","setTechnique","marker","setMarker","loading","setLoading","message","setMessage","isLoaded","googleMapsApiKey","onMapClick","event","latLng","handleSubmit","e","preventDefault","currentUser","alert","location","approved","createdBy","uid","createdAt","Date","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","center","zoom","onClick","position","toFixed","onSubmit","type","placeholder","value","onChange","target","required","disabled","role","_c","$RefreshReg$"],"sources":["C:/Users/20228/OneDrive/Desktop/New/fishing-spots-app/frontend/src/pages/SpotSharePage.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\nimport { collection, addDoc } from \"firebase/firestore\";\nimport { db, auth } from '../firebase';\nimport './SpotSharePage.css';\n\nconst containerStyle = {\n  width: '100%',\n  height: '250px'\n};\n\nconst defaultCenter = {\n  lat: 3.139,\n  lng: 101.6869\n};\n\nconst SpotSharePage = () => {\n  const [species, setSpecies] = useState('');\n  const [bait, setBait] = useState('');\n  const [technique, setTechnique] = useState('');\n  const [marker, setMarker] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const { isLoaded } = useJsApiLoader({\n    googleMapsApiKey: \"AIzaSyAgtx6yT4yO1KxGO1qRIDAbi2saRZYjwJ8\"\n  });\n\n  const onMapClick = useCallback((event) => {\n    setMarker({\n      lat: event.latLng.lat(),\n      lng: event.latLng.lng()\n    });\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!auth.currentUser) {\n      alert(\"You must be logged in to share a spot.\");\n      return;\n    }\n    if (!marker) {\n      alert(\"Please select a location on the map.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      await addDoc(collection(db, \"fishingSpots\"), {\n        species,\n        bait,\n        technique,\n        location: marker,\n        approved: false,\n        createdBy: auth.currentUser.uid,\n        createdAt: new Date()\n      });\n      setMessage('Spot shared! Awaiting admin approval.');\n      setSpecies('');\n      setBait('');\n      setTechnique('');\n      setMarker(null);\n    } catch (error) {\n      setMessage('Error sharing spot: ' + error.message);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"share-spot-outer\">\n      <h2>Share a Fishing Spot</h2>\n      <div className=\"map-section\">\n        {isLoaded && (\n          <GoogleMap\n            mapContainerStyle={containerStyle}\n            center={marker || defaultCenter}\n            zoom={12}\n            onClick={onMapClick}\n          >\n            {marker && <Marker position={marker} />}\n          </GoogleMap>\n        )}\n        <div className=\"selected-location\">\n          {marker\n            ? <>üìç Selected Location: {marker.lat.toFixed(5)}, {marker.lng.toFixed(5)}</>\n            : <>Click on the map to select a location</>\n          }\n        </div>\n      </div>\n      {message && <p>{message}</p>}\n      <form className=\"share-spot-form\" onSubmit={handleSubmit}>\n        <div className=\"form-fields\">\n          <label>\n            SPECIES :\n            <input\n              type=\"text\"\n              placeholder=\"LIST SPECIES HERE\"\n              value={species}\n              onChange={e => setSpecies(e.target.value)}\n              required\n            />\n          </label>\n          <label>\n            BAIT/LURE :\n            <input\n              type=\"text\"\n              placeholder=\"LIST BAIT/LURE HERE\"\n              value={bait}\n              onChange={e => setBait(e.target.value)}\n              required\n            />\n          </label>\n          <label>\n            TECHNIQUE :\n            <input\n              type=\"text\"\n              placeholder=\"e.g., casting, bottom, fly\"\n              value={technique}\n              onChange={e => setTechnique(e.target.value)}\n              required\n            />\n          </label>\n        </div>\n        <button className=\"share-btn\" type=\"submit\" disabled={loading}>\n          {loading ? \"Sharing...\" : <><span role=\"img\" aria-label=\"location\">üìç</span> Share Location</>}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default SpotSharePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}